/*!
 * author:jieyou
 * contacts:百度hi->youyo1122
 * see https://github.com/jieyou/flexibleWapHelper
 */
!function(a){function k(a){return parseFloat(a.$dom.offset().width||a.$dom.css("width"))/a.originalWidth*a.originalHeight}function l(b){var c={};a.each(b,function(a,b){var d,f,e=b.sameKey;e?(f=c[e],f&&f.originalWidth*b.originalHeight==f.originalHeight*b.originalWidth?d=f.height:(d=k(b),c[b.sameKey]={height:d,originalWidth:b.originalWidth,originalHeight:b.originalHeight})):d=k(b),b.$dom.css("height",d)})}function m(a,b,c,d){a.css("background-image")&&a.css(e),c||b.push({$dom:a,originalWidth:parseFloat(a.data("original-width")),originalHeight:parseFloat(a.data("original-height")),sameKey:d||null})}var j,b=a(window),c="background-size",d="100% 100%",e={},f="display",g="box",h="box-flex",i=[];e["-webkit-"+c]=e["-moz-"+c]=e["-ms-"+c]=e[c]=d,i.push(";",f,":",g,";",f,":","-webkit-",g,";",f,":","-moz-",g,";",f,":","-ms-",g,";"),j=i.join(""),a.fn.fullWidth=function(a){var c=[],d=this;return this.each(function(b){m(d.eq(b),c,!!a)}),this.css("width","100%"),a?this.css("height",a):c.length>0&&(l(c),b.on("resize",function(){l(c)})),this},a.fn.prorate=function(a){var c=this.children(),d=[],e=this;return c.each(function(b){var i,f=c.eq(b),g=parseInt(f.data("box-flex"));isNaN(g)||(g+="",i={},i["-webkit-"+h]=i["-moz-"+h]=i["-ms-"+h]=i[h]=g,f.css("display","block").css(i),a&&f.css("height",a),m(f,d,!!a,"SK"+g))}),this.each(function(a){var c=e.eq(a),d=c.attr("style");c.attr("style",d?d+j:j)}),a?this.css("height",a):d.length>0&&(l(d),b.on("resize",function(){l(d)})),this}}($);